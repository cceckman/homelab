# minimal /etc/dhcp/dhcpd.conf
default-lease-time 300;
max-lease-time 7200;

# Cross-network devices:
# Router:
host gateway {
   hardware ethernet b4:fb:e4:27:50:c9;
   fixed-address 192.168.3.1, 192.168.2.1;
}

host bastion {
   hardware ethernet b8:27:eb:31:78:60;
   fixed-address 192.168.3.2, 192.168.2.2;
}

# vlan 30: management
subnet 192.168.3.0 netmask 255.255.255.0 {
 range 192.168.3.100 192.168.3.150;
 deny unknown-clients;
 authoritative;

 option routers 192.168.3.1;
}

host rack19-ipmi {
   hardware ethernet 0c:c4:7a:ad:b0:cf;
   fixed-address 192.168.3.190;
}

# vlan 20: application
subnet 192.168.2.0 netmask 255.255.255.0 {
  range 192.168.2.50 192.168.2.99;
  deny unknown-clients;
  authoritative;
  allow bootp;
  allow booting;

  option domain-name-servers 192.168.1.127, 8.8.8.8, 8.8.4.4;

  next-server 192.168.2.2;
  option routers 192.168.2.1;
}

host rack19-1 {
  hardware ethernet 0c:c4:7a:a8:72:ae;
  fixed-address 192.168.2.191;

  filename "debian-installer/amd64/bootnetx64.efi";
}
host rack19-2 {
  hardware ethernet 0c:c4:7a:a8:72:af;
  fixed-address 192.168.2.192;
}

# VMs on the application network-
# Manually assign IP equal to the VM ID
host rack19-workstation {
  hardware ethernet E6:E1:DF:C2:78:4F;
  fixed-address 192.168.2.100;
}

host rack19-truenas {
  hardware ethernet DE:41:C1:F5:7F:DD;
  fixed-address 192.168.2.102;
}

host rack19-storage {
  hardware ethernet 16:A3:55:BB:6A:5C;
  fixed-address 192.168.2.103;
}

